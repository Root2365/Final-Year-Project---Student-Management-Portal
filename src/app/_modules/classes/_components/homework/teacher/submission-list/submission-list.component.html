<ngx-spinner fullScreen="false">
  <p style="font-size: 20px; color: white">Processing...</p>
</ngx-spinner>

<table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
       class="table table-striped table-hover table-bordered">
  <thead class="text-center">
  <tr>
    <th>Student Name</th>
    <th>Submission Date</th>
    <th>Mark Gained</th>
    <th>Submitted File</th>
    <th>Action</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let submissionList of submittedHomeworkList">
    <td>{{ submissionList.student.name }}</td>
    <td class="text-center">{{ submissionList.submissionDate }}</td>
    <td class="text-center">{{ submissionList.marksGained == null ? 'Not marked yet' : submissionList.marksGained}}</td>
    <td class="text-center">
      <button class="btn btn-link" (click)="downloadFile(submissionList.id)">Download</button>
    </td>
    <td>
      <div class="d-flex justify-content-center">
        <button class="btn btn-xs btn-outline-info mr-2" (click)="markHomeworkModal(submissionList.student.id, homework_mark)">
          <i class="fa fa-edit"></i></button>
      </div>
    </td>
  </tr>
  </tbody>
</table>

<ng-template #homework_mark let-modal style="max-width: 400px !important;">
  <div class="modal-header">
    <h4 class="modal-title">Mark Homework</h4>
    <button class="btn btn-xs rounded btn-outline-danger" aria-label="Close" (click)="modal.dismiss('Cross click')">X
    </button>
  </div>
  <div class="modal-body" style="padding: 30px 25px">
    <div class="row">
      <input class="form-control" #marks type="text" placeholder="Mark this student">
    </div>

    <div class="row" style="margin-top: 10px">
      <div class="col-sm-12 text-right">
        <button class="btn btn-rounded btn-primary"
                (click)="markHomework(marks.value)">
          <i class="fa fa-plus-circle"></i> Submit
        </button>
      </div>
    </div>
  </div>

</ng-template>
